---
import Layout from "./Layout.astro";
import Navigation from "../components/Navigation.astro";

interface Props {
  title: string;
  headings: { depth: number; slug: string; text: string }[];
  curriculumTitle: string;
}

const { title, headings, curriculumTitle } = Astro.props;
---

<Layout title={title}>
  <div class="min-h-screen bg-white dark:bg-gray-900">
    <Navigation />

    <div class="flex">
      <!-- Left sidebar with table of contents -->
      <aside
        class="w-64 flex-shrink-0 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto border-r border-gray-200 dark:border-gray-700"
      >
        <nav class="p-4">
          <h2 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">
            {curriculumTitle}
          </h2>
          <ul class="space-y-2">
            {
              headings.map((heading) => (
                <li class={`pl-${(heading.depth - 1) * 4}`}>
                  <a
                    href={`#${heading.slug}`}
                    class="text-gray-600 dark:text-gray-400 hover:text-yellow-600 dark:hover:text-yellow-400 text-sm block py-1"
                  >
                    {heading.text}
                  </a>
                </li>
              ))
            }
          </ul>
        </nav>
      </aside>

      <!-- Main content -->
      <main class="flex-1 max-w-4xl mx-auto px-4 py-8">
        <article
          class="prose prose-lg dark:prose-invert prose-yellow max-w-none"
        >
          <slot />
        </article>
      </main>
    </div>
  </div>
</Layout>

